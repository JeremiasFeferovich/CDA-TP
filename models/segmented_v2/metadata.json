{
  "version": "v2",
  "improvements": [
    "Full feature engineering (22 optimized features)",
    "Per-segment hyperparameter optimization",
    "Better ensemble weights"
  ],
  "config": {
    "description": "Price segmentation configuration for property prediction model",
    "strategy_name": "3_segments_optimized",
    "segments": [
      {
        "name": "budget",
        "price_min": 30000,
        "price_max": 120000,
        "expected_count": 6945,
        "expected_pct": 28.1,
        "description": "Budget properties - first-time buyers, small apartments",
        "hyperparameters": {
          "xgb": {
            "n_estimators": 1000,
            "max_depth": 5,
            "learning_rate": 0.03,
            "subsample": 0.75,
            "colsample_bytree": 0.75,
            "reg_alpha": 2.0,
            "reg_lambda": 3.0,
            "random_state": 42,
            "early_stopping_rounds": 50
          },
          "lgbm": {
            "n_estimators": 1000,
            "max_depth": 5,
            "learning_rate": 0.03,
            "subsample": 0.75,
            "colsample_bytree": 0.75,
            "reg_alpha": 2.0,
            "reg_lambda": 3.0,
            "min_child_samples": 20,
            "num_leaves": 31,
            "random_state": 42,
            "early_stopping_rounds": 50
          }
        }
      },
      {
        "name": "mid_range",
        "price_min": 120000,
        "price_max": 300000,
        "expected_count": 13821,
        "expected_pct": 56.0,
        "description": "Mid-range properties - majority of market, families, professionals",
        "hyperparameters": {
          "xgb": {
            "n_estimators": 1000,
            "max_depth": 5,
            "learning_rate": 0.03,
            "subsample": 0.75,
            "colsample_bytree": 0.75,
            "reg_alpha": 2.0,
            "reg_lambda": 3.0,
            "random_state": 42,
            "early_stopping_rounds": 50
          },
          "lgbm": {
            "n_estimators": 1000,
            "max_depth": 5,
            "learning_rate": 0.03,
            "subsample": 0.75,
            "colsample_bytree": 0.75,
            "reg_alpha": 2.0,
            "reg_lambda": 3.0,
            "min_child_samples": 20,
            "num_leaves": 31,
            "random_state": 42,
            "early_stopping_rounds": 50
          }
        }
      },
      {
        "name": "premium",
        "price_min": 300000,
        "price_max": 600000,
        "expected_count": 3894,
        "expected_pct": 15.8,
        "description": "Premium properties - luxury apartments, penthouses, premium neighborhoods",
        "hyperparameters": {
          "xgb": {
            "n_estimators": 1000,
            "max_depth": 6,
            "learning_rate": 0.02,
            "subsample": 0.75,
            "colsample_bytree": 0.75,
            "reg_alpha": 3.0,
            "reg_lambda": 4.0,
            "random_state": 42,
            "early_stopping_rounds": 50
          },
          "lgbm": {
            "n_estimators": 1000,
            "max_depth": 6,
            "learning_rate": 0.02,
            "subsample": 0.75,
            "colsample_bytree": 0.75,
            "reg_alpha": 3.0,
            "reg_lambda": 4.0,
            "min_child_samples": 20,
            "num_leaves": 31,
            "random_state": 42,
            "early_stopping_rounds": 50
          }
        }
      }
    ],
    "routing_strategy": "hard",
    "ensemble_weights": {
      "budget": {
        "xgb": 0.5,
        "lgbm": 0.5
      },
      "mid_range": {
        "xgb": 0.5,
        "lgbm": 0.5
      },
      "premium": {
        "xgb": 0.5,
        "lgbm": 0.5
      }
    },
    "notes": [
      "Using 3_segments_v1 strategy from analysis",
      "CV scores: budget=20.9%, mid=26.3%, premium=20.2% (vs overall 33.2% for 2 segments)",
      "Premium segment uses stronger regularization and deeper trees due to higher complexity",
      "Weights will be optimized during training based on validation performance"
    ]
  },
  "results": {
    "budget": {
      "test_rmse": 14983.421314142712,
      "test_r2": 0.34794547641568396,
      "test_mae": 12087.739598602657,
      "overfitting_pct": 9.908448918900632,
      "test_size": 1389
    },
    "mid_range": {
      "test_rmse": 33966.728777304575,
      "test_r2": 0.5394708602907636,
      "test_mae": 26260.77646911042,
      "overfitting_pct": 14.306413967820209,
      "test_size": 2765
    },
    "premium": {
      "test_rmse": 68266.3217745939,
      "test_r2": 0.3508904976387016,
      "test_mae": 53637.179134089696,
      "overfitting_pct": 25.03485918771015,
      "test_size": 779
    }
  },
  "overall": {
    "rmse": 38024.09534029754,
    "r2": 0.8896074350971406,
    "mae": 26593.204902697198,
    "v1_rmse": 38174.0,
    "baseline_rmse": 49518.0,
    "improvement_vs_v1_pct": 0.3926878495899228,
    "improvement_vs_baseline_pct": 23.211568843051936
  },
  "features": [
    "area",
    "bathrooms",
    "latitude",
    "longitude",
    "subway_stations_nearby",
    "dist_to_puerto_madero",
    "dist_to_belgrano",
    "min_dist_to_premium",
    "dist_to_constitucion",
    "parks_nearby",
    "restaurants_nearby",
    "luxury_score",
    "family_score",
    "total_amenities",
    "log_area",
    "area_x_bedrooms",
    "area_x_bathrooms",
    "luxury_x_transport",
    "area_per_bedroom",
    "has_balcony",
    "has_garage",
    "has_pool"
  ]
}